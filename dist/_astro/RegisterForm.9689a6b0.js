import{r as o}from"./index.b2a7ed32.js";var y={exports:{}},u={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=o,S=Symbol.for("react.element"),v=Symbol.for("react.fragment"),w=Object.prototype.hasOwnProperty,R=b.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,O={key:!0,ref:!0,__self:!0,__source:!0};function g(a,r,i){var s,n={},l=null,d=null;i!==void 0&&(l=""+i),r.key!==void 0&&(l=""+r.key),r.ref!==void 0&&(d=r.ref);for(s in r)w.call(r,s)&&!O.hasOwnProperty(s)&&(n[s]=r[s]);if(a&&a.defaultProps)for(s in r=a.defaultProps,r)n[s]===void 0&&(n[s]=r[s]);return{$$typeof:S,type:a,key:l,ref:d,props:n,_owner:R.current}}u.Fragment=v;u.jsx=g;u.jsxs=g;y.exports=u;var e=y.exports;function C(){const[a,r]=o.useState([]),[i,s]=o.useState({email:"",password:""}),[n,l]=o.useState(null),[d,c]=o.useState(null),[m,f]=o.useState(!1),h="https://darkgreen-walrus-291443.hostingersite.com";o.useEffect(()=>{fetch(`${h}/api/users.php`).then(t=>t.json()).then(r).catch(()=>c("Error al cargar usuarios"))},[]);const x=t=>{s(p=>({...p,[t.target.name]:t.target.value}))},_=async t=>{t.preventDefault(),l(null),c(null),f(!0);try{const p=await fetch(`${h}/api/register.php`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),j=await p.json();if(p.ok){l(j.success),s({email:"",password:""});const E=await(await fetch(`${h}/api/users.php`)).json();r(E)}else c(j.error||"Error desconocido")}catch{c("Error en la conexión")}finally{f(!1)}};return e.jsxs("div",{style:{padding:20},children:[e.jsx("h1",{children:"Registro de Usuario"}),n&&e.jsx("p",{style:{color:"green"},children:n}),d&&e.jsx("p",{style:{color:"red"},children:d}),e.jsxs("form",{onSubmit:_,children:[e.jsx("input",{type:"email",name:"email",placeholder:"Email",value:i.email,onChange:x,required:!0}),e.jsx("br",{}),e.jsx("input",{type:"password",name:"password",placeholder:"Contraseña",value:i.password,onChange:x,required:!0}),e.jsx("br",{}),e.jsx("button",{type:"submit",disabled:m,children:m?"Registrando...":"Registrar"})]}),e.jsx("h2",{children:"Usuarios Registrados"}),e.jsxs("table",{border:"1",cellPadding:"5",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"ID"}),e.jsx("th",{children:"Email"})]})}),e.jsx("tbody",{children:a.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t.id}),e.jsx("td",{children:t.email})]},t.id))})]})]})}export{C as default};
